{"version":3,"sources":["clojulator/web/core.cljs"],"mappings":";AAUA,yDAAA,zDAACA,yHAEA,WAAKC,EAAEA;AAAP,AAAA,kDAAA,0IAAA,4EAAA,GAAA,oEAAA,lOACY,6CAAA,7CAACC;;AAId,yDAAA,zDAACF,yHAEA,cAAAG,HAAKG;AAAL,AAAA,IAAAF,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASH;iBAAT,AAAAI,4CAAAD,WAAA,IAAA,xEAAWG;AAAX,AACE,IAAAC,aAAiB,AAACE,qCAAUH,WAAW,AAAA,yFAAUD;YAAjD,AAAAD,4CAAAG,WAAA,IAAA,nEAAOP;aAAP,AAAAI,4CAAAG,WAAA,IAAA,pEAASC;AAAT,mGACMH,9CACA,iDAAA,jDAACK,6HAAuBJ,lLACxB,8LAAA,vLAACI,2PAAmBF;;AAK7B,2DAAA,3DAACG,yLAEA,WAAKN,GAAGL;AAAR,AAAW,OAAA,0GAAkBK;;AAE9B,2DAAA,3DAACM,iLAEA,WAAKN,GAAGL;AAAR,AAAW,OAAA,gGAAaK;;AAKzB,6BAAA,7BAAMO;AAAN,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,sBAAA,mFAAA,kDAAA,iCAAA,mFAAA,iDAAA;;AAOA,8BAAA,9BAAMC,oEACHC;AADH,AAAA;;AAGA,sCAAA,tCAAMC;AAAN,AAAA;;AAGA,4BAAA,5BAAMC;AAAN,AAAA,0FAAA,mDAAA,2CAAA,wDAAA,kDAAA,sHAAA,nCAIIJ,sHACAG;;AAKJ,GAAA,QAAAE,uCAAAC,2CAAAC,gDAAAC;AAAA;AAAA,AAAA,AAASC,qCACP,AAACC,+BAAgB,wBAAA,xBAACC;;AAEpB,+BAAA,/BAAMC;AAAN,AAEE,kGAAA,3FAACC,wDAAWJ,sHAAgBL;;AAE9B,2BAAA,3BAAeU;AAAf,AACE,AAACC;;AACD,4BAAA,mFAAA,/GAACC;;AACD,OAACJ","names":["re_frame.core.reg_event_db","_","cljs.core.atom","p__29182","vec__29183","cljs.core.nth","db","expression","vec__29186","result","clojulator.calculator.core/calculate","cljs.core.assoc","re_frame.core.reg_sub","clojulator.web.core/header","clojulator.web.core/display","output","clojulator.web.core/calculator-view","clojulator.web.core/index","js/clojulator","js/clojulator.web","js/clojulator.web.core","js/clojulator.web.core.root-container","clojulator.web.core/root-container","reagent.dom.client/create-root","js/document.getElementById","clojulator.web.core/mount-ui","reagent.dom.client.render","clojulator.web.core/main","cljs.core/enable-console-print!","re-frame.core/dispatch-sync"],"sourcesContent":["(ns clojulator.web.core\n  (:require\n   [reagent.core :as r]\n   [reagent.dom.client :as rdc]\n   [re-frame.core :as rf]\n   [clojulator.calculator.core :refer [calculate]]))\n\n;; ----------------------------------\n;; Event Handlers\n\n(rf/reg-event-db\n :initialize\n (fn [_ _]\n   {:history (atom [])\n    :last-expression \"\"\n    :last-result \"\"}))\n\n(rf/reg-event-db\n :calculate\n (fn [db [_ expression]]\n   (let [[_ result] (calculate expression (:history db))]\n     (-> db\n         (assoc :last-expression expression)\n         (assoc :last-result result)))))\n\n;; ----------------------------------\n;; Subscriptions\n\n(rf/reg-sub\n :last-expression\n (fn [db _] (:last-expression db)))\n\n(rf/reg-sub\n :last-result\n (fn [db _] (:lastResult db)))\n\n;; ----------------------------------\n;; Views\n\n(defn header\n  []\n  [:div\n   {:class \"text-center\"}\n   [:h1 \"Welcome to Clojulator!\"]\n   [:h4 \"A calculator written in Clojure\"]])\n\n(defn display\n  [output])\n\n(defn calculator-view\n  [])\n\n(defn index\n  []\n  [:div\n   {:class \"flex flex-col items-center min-h-screen\"}\n   [header]\n   [calculator-view]])\n\n;; ----------------------------------\n;; Entry Point\n\n(defonce root-container\n  (rdc/create-root (js/document.getElementById \"app\")))\n\n(defn mount-ui\n  []\n  (rdc/render root-container [index]))\n\n(defn ^:export main []\n  (enable-console-print!)\n  (rf/dispatch-sync [:initialize])\n  (mount-ui))\n"]}